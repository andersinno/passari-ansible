---
- name: Install database components
  hosts: database
  become: true
  roles:
    - common
    - passari_database

- name: Install worker components
  hosts: worker
  become: true
  roles:
    - common
    - validators
    - passari_workflow

- name: Install web UI components
  hosts: web_ui
  become: true
  roles:
    - common
    - nginx
    - uwsgi
    - letsencrypt
    - passari_web_ui

- name: Install backup components
  hosts: backup
  become: true
  roles:
    - common
    - passari_backup

- name: Install CI testing tools
  hosts: ci_test
  become: true
  roles:
    - common
    - validators

- name: Install E2E test components
  hosts: e2e
  become: true
  roles:
    - passari_e2e
